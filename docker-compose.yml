version: '3.8'

services:
  property-monitor:
    build: .
    container_name: property-finder-monitor
    environment:
      - TELEGRAM_BOT_TOKEN=${TELEGRAM_BOT_TOKEN}
      - TELEGRAM_CHAT_ID=${TELEGRAM_CHAT_ID}
      - NOTIFY_ON_EMPTY=${NOTIFY_ON_EMPTY:-false}
      - MAX_PRICE=${MAX_PRICE:-1800000}
      - MIN_SIZE=${MIN_SIZE:-740}
    volumes:
      - ./seen_listings.json:/app/seen_listings.json
      - ./logs:/app/logs
    restart: unless-stopped
    # For Playwright in Docker
    shm_size: '2gb'
    security_opt:
      - seccomp:unconfined
